{
  "mode": "hybrid_compare",
  "baseline": {
    "generated_at": "2026-02-20T05:53:17Z",
    "dataset_path": "/Users/yo.mi/Projects/mcp_v2/evals/manual_find_lexical_gap.jsonl",
    "dataset_hash": "05f85c7d79d4b1a5",
    "top_k": 50,
    "find_options": {
      "retrieval_mode": "lexical",
      "requested_retrieval_mode": "lexical",
      "applied_retrieval_mode": "lexical",
      "expand_scope": true,
      "requested_expand_scope": true,
      "applied_expand_scope": false,
      "include_claim_graph": false,
      "budget": {
        "time_ms": 60000,
        "max_candidates": 200
      }
    },
    "metrics": {
      "hit_rate@50": 1.0,
      "recall@50": 1.0,
      "mrr@50": 0.7167,
      "precision@50": 0.02,
      "precision@retrieved": 0.0841,
      "gap_rate": 0.2,
      "conflict_rate": 0.4,
      "p95_latency_ms": 284.0,
      "tokens_per_query": 308.9,
      "error_rate": 0.0,
      "forbidden_hit_rate": 0.0
    },
    "thresholds": {
      "hit_rate@50": {
        "op": ">=",
        "value": 0.8
      },
      "recall@50": {
        "op": ">=",
        "value": 0.8
      },
      "mrr@50": {
        "op": ">=",
        "value": 0.6
      },
      "precision@50": {
        "op": ">=",
        "value": 0.5
      },
      "gap_rate": {
        "op": "<=",
        "value": 0.25
      },
      "conflict_rate": {
        "op": "<=",
        "value": 0.2
      },
      "p95_latency_ms": {
        "op": "<=",
        "value": 1200
      },
      "error_rate": {
        "op": "==",
        "value": 0.0
      }
    },
    "pass_fail": {
      "all_passed": false,
      "checks": [
        {
          "metric": "hit_rate@50",
          "value": 1.0,
          "op": ">=",
          "threshold": 0.8,
          "passed": true
        },
        {
          "metric": "recall@50",
          "value": 1.0,
          "op": ">=",
          "threshold": 0.8,
          "passed": true
        },
        {
          "metric": "mrr@50",
          "value": 0.7167,
          "op": ">=",
          "threshold": 0.6,
          "passed": true
        },
        {
          "metric": "precision@50",
          "value": 0.02,
          "op": ">=",
          "threshold": 0.5,
          "passed": false
        },
        {
          "metric": "gap_rate",
          "value": 0.2,
          "op": "<=",
          "threshold": 0.25,
          "passed": true
        },
        {
          "metric": "conflict_rate",
          "value": 0.4,
          "op": "<=",
          "threshold": 0.2,
          "passed": false
        },
        {
          "metric": "p95_latency_ms",
          "value": 284.0,
          "op": "<=",
          "threshold": 1200.0,
          "passed": true
        },
        {
          "metric": "error_rate",
          "value": 0.0,
          "op": "==",
          "threshold": 0.0,
          "passed": true
        }
      ],
      "threshold_failures": [
        {
          "metric": "precision@50",
          "value": 0.02,
          "op": ">=",
          "threshold": 0.5,
          "passed": false
        },
        {
          "metric": "conflict_rate",
          "value": 0.4,
          "op": "<=",
          "threshold": 0.2,
          "passed": false
        }
      ]
    },
    "failed_cases": [],
    "case_count": 10
  },
  "with_hybrid": {
    "generated_at": "2026-02-20T05:53:17Z",
    "dataset_path": "/Users/yo.mi/Projects/mcp_v2/evals/manual_find_lexical_gap.jsonl",
    "dataset_hash": "05f85c7d79d4b1a5",
    "top_k": 50,
    "find_options": {
      "retrieval_mode": "hybrid",
      "requested_retrieval_mode": "hybrid",
      "applied_retrieval_mode": "lexical",
      "expand_scope": true,
      "requested_expand_scope": true,
      "applied_expand_scope": false,
      "include_claim_graph": false,
      "budget": {
        "time_ms": 60000,
        "max_candidates": 200
      }
    },
    "metrics": {
      "hit_rate@50": 1.0,
      "recall@50": 1.0,
      "mrr@50": 0.7167,
      "precision@50": 0.02,
      "precision@retrieved": 0.0841,
      "gap_rate": 0.2,
      "conflict_rate": 0.4,
      "p95_latency_ms": 339.0,
      "tokens_per_query": 308.9,
      "error_rate": 0.0,
      "forbidden_hit_rate": 0.0
    },
    "thresholds": {
      "hit_rate@50": {
        "op": ">=",
        "value": 0.8
      },
      "recall@50": {
        "op": ">=",
        "value": 0.8
      },
      "mrr@50": {
        "op": ">=",
        "value": 0.6
      },
      "precision@50": {
        "op": ">=",
        "value": 0.5
      },
      "gap_rate": {
        "op": "<=",
        "value": 0.25
      },
      "conflict_rate": {
        "op": "<=",
        "value": 0.2
      },
      "p95_latency_ms": {
        "op": "<=",
        "value": 1200
      },
      "error_rate": {
        "op": "==",
        "value": 0.0
      }
    },
    "pass_fail": {
      "all_passed": false,
      "checks": [
        {
          "metric": "hit_rate@50",
          "value": 1.0,
          "op": ">=",
          "threshold": 0.8,
          "passed": true
        },
        {
          "metric": "recall@50",
          "value": 1.0,
          "op": ">=",
          "threshold": 0.8,
          "passed": true
        },
        {
          "metric": "mrr@50",
          "value": 0.7167,
          "op": ">=",
          "threshold": 0.6,
          "passed": true
        },
        {
          "metric": "precision@50",
          "value": 0.02,
          "op": ">=",
          "threshold": 0.5,
          "passed": false
        },
        {
          "metric": "gap_rate",
          "value": 0.2,
          "op": "<=",
          "threshold": 0.25,
          "passed": true
        },
        {
          "metric": "conflict_rate",
          "value": 0.4,
          "op": "<=",
          "threshold": 0.2,
          "passed": false
        },
        {
          "metric": "p95_latency_ms",
          "value": 339.0,
          "op": "<=",
          "threshold": 1200.0,
          "passed": true
        },
        {
          "metric": "error_rate",
          "value": 0.0,
          "op": "==",
          "threshold": 0.0,
          "passed": true
        }
      ],
      "threshold_failures": [
        {
          "metric": "precision@50",
          "value": 0.02,
          "op": ">=",
          "threshold": 0.5,
          "passed": false
        },
        {
          "metric": "conflict_rate",
          "value": 0.4,
          "op": "<=",
          "threshold": 0.2,
          "passed": false
        }
      ]
    },
    "failed_cases": [],
    "case_count": 10
  },
  "metrics_delta": {
    "conflict_rate": 0.0,
    "error_rate": 0.0,
    "forbidden_hit_rate": 0.0,
    "gap_rate": 0.0,
    "hit_rate@50": 0.0,
    "mrr@50": 0.0,
    "p95_latency_ms": 55.0,
    "precision@50": 0.0,
    "precision@retrieved": 0.0,
    "recall@50": 0.0,
    "tokens_per_query": 0.0
  },
  "comparison_summary": {
    "baseline_passed": false,
    "with_hybrid_passed": false,
    "p95_latency_ms_delta": 55.0,
    "tokens_per_query_delta": 0.0,
    "hit_rate@50_delta": 0.0,
    "recall@50_delta": 0.0,
    "mrr@50_delta": 0.0,
    "precision@50_delta": 0.0
  }
}
